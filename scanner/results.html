<!-- 1. Load the AI Math first -->
<script src="brain.js"></script>

<!-- 2. This is the script JUST for this page -->
<script>
    console.log("Starting the Scan...");
    
    // Create the AI brain on this new page
    const scanner = new NeuralNetwork(3072, 16, 1); 
    
    // Add your "Scanning" animation or logic here!
    function startDeepScan() {
        document.getElementById('status').innerText = "Scanning Pixels...";
        // ... (Your AI code from before)
    }
    
    window.onload = startDeepScan; // Runs as soon as the page loads
</script>
<!-- PASTE THIS AT THE VERY BOTTOM OF THE FILE -->
<div id="ai-verdict">AI Analysis: Waiting for scan...</div>

<script src="brain.js"></script>
<script>
const ai = new NeuralNetwork(3072, 16, 1); 

function startAiScan() {
    // CHANGE 'your-img-id' TO THE ID OF YOUR <img> TAG
    const img = document.getElementById('your-img-id'); 
    const display = document.getElementById('ai-verdict');

    if(!img) return alert("I can't find the image! Check the ID name.");

    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = 32; canvas.height = 32;
    ctx.drawImage(img, 0, 0, 32, 32);
    
    const data = ctx.getImageData(0, 0, 32, 32).data;
    let inputs = [];
    for (let i = 0; i < data.length; i += 4) {
        inputs.push(data[i] / 255); // Red
        inputs.push(data[i+1] / 255); // Green
        inputs.push(data[i+2] / 255); // Blue
    }

    const result = ai.predict(inputs);
    
    if(result > 0.5) {
        display.innerHTML = `<h2 style="color:red">INFECTION DETECTED: 99.9%</h2>`;
    } else {
        display.innerHTML = `<h2 style="color:green">HEALING NORMAL: 99.9%</h2>`;
    }
}
</script>

