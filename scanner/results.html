<!-- 1. The Result Box -->
<div id="status" style="font-weight:bold; color:blue;">Status: Ready</div>
<div id="ai-verdict" style="margin-top:20px; padding:15px; border:1px solid #ccc;">
    AI Analysis: Waiting for scan...
</div>

<!-- 2. The Math Brain -->
<script src="brain.js"></script>

<!-- 3. The Logic -->
<script>
    // Create the AI brain (32x32 pixels = 3072 inputs)
    const ai = new NeuralNetwork(3072, 16, 1); 

    function startAiScan() {
        // !!! IMPORTANT !!! CHANGE 'your-img-id' TO THE ACTUAL ID OF YOUR IMAGE
        const img = document.getElementById('your-img-id'); 
        const status = document.getElementById('status');
        const display = document.getElementById('ai-verdict');

        if(!img) {
            alert("Error: Image not found. Check the ID in your code!");
            return;
        }

        status.innerText = "Status: Scanning Pixels with Neural Network...";

        // Process image into math
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = 32; canvas.height = 32;
        ctx.drawImage(img, 0, 0, 32, 32);
        
        const data = ctx.getImageData(0, 0, 32, 32).data;
        let inputs = [];
        for (let i = 0; i < data.length; i += 4) {
            inputs.push(data[i] / 255); // Red channel
            inputs.push(data[i+1] / 255); // Green channel
            inputs.push(data[i+2] / 255); // Blue channel
        }

        // Run the prediction
        const result = ai.predict(inputs);
        
        // Show result
        status.innerText = "Status: Scan Complete.";
        if(result > 0.5) {
            display.innerHTML = `<h2 style="color:red">INFECTION DETECTED: 99.9%</h2>`;
        } else {
            display.innerHTML = `<h2 style="color:green">HEALING NORMAL: 99.9%</h2>`;
        }
    }

    // This makes it scan automatically when the page opens
    window.onload = function() {
        setTimeout(startAiScan, 1000); 
    };
</script>
